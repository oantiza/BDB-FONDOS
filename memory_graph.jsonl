{"type":"entity","name":"oantiza","entityType":"system","observations":["El usuario quiere que el prompt base de inteligencia artificial produzca un informe macroeconómico que respete de manera fiel la estructura y tono de un informe 'tipo' que ya generó (\"Informe Estratégico Global Febrero 2026.pdf\").","El usuario quiere que se guarde todo el contexto de la revisión del módulo Macro y Estrategia, enfocado en el prompt y en los datos del Backend."]}
{"type":"entity","name":"WeeklyReportDashboard","entityType":"Component","observations":["Refactored to use a unified ReportDashboard component for Summary, Asset Allocation, and Full Report (Markdown) tabs."]}
{"type":"entity","name":"services/research.py","entityType":"Backend Script","observations":["Replaced PyPDF2 with live yfinance data for market context.","Uses Gemini 2.5 Pro with Google Search Grounding for autonomous Deep Research.","Produces a strict JSON output containing a 'fullReport.narrative' field with extensive Markdown."]}
{"type":"entity","name":"Deep Research Prompt","entityType":"Concept","observations":["Uses an institutional persona (Goldman Sachs Chief Investment Strategist).","Analyzes Macroeconomics, Strategic Scenarios, Valuation, Fund Flows, Asset Class Perspectives, Tail Risks, and Tactical Matrix."]}
{"type":"entity","name":"BDB-FONDOS","entityType":"Project","observations":["Plataforma de gestión patrimonial y análisis de inversiones."]}
{"type":"entity","name":"Macro Report","entityType":"Feature","observations":["Módulo que genera informes semanales automatizados utilizando Gemini. Dividido en 3 pestañas: Resumen Global, Asignación Táctica e Informe Completo.","El prompt de Gemini exige actuar como un Estratega Jefe de Inversiones y extraer datos de PMI, Inflación, Yields y GDPNow en un formato JSON estricto.","Tiene explícitamente prohibido generar saludos formales como 'A la atención del Comité de Inversiones' en sus narrativas."]}
{"type":"entity","name":"ReportDashboard.tsx","entityType":"Component","observations":["Componente frontend principal para el Macro Report. Usa Tailwind CSS para grid layouts responsivos, Recharts para visualización avanzada (Radar, Composed, Area) y diseños Empty State premium (HTML/CSS con animaciones ping) cuando faltan datos."]}
{"type":"entity","name":"Diseño UI/UX","entityType":"Preference","observations":["El usuario tiene una altísima preferencia por diseños de interfaz de usuario de nivel 'Premium' (UHNW, Banca Privada), requiriendo detalles como glassmorphism, gráficos sofisticados y estados vacíos (Empty States) elegantes en lugar de textos planos."]}
{"type":"entity","name":"stockmaster-pro","entityType":"Project","observations":["Plataforma de gestión y optimización de carteras de inversión.","Utiliza Firebase como infraestructura principal (ID del proyecto: bdb-fondos)."]}
{"type":"entity","name":"funds_v3","entityType":"DatabaseCollection","observations":["Colección principal de fondos de inversión.","Los documentos usan el ISIN como ID único.","Estructura dividida en sectores: ms (Morningstar), manual (costes/retros), std_perf (métricas), y derived (clases de activos)."]}
{"type":"entity","name":"Oscar","entityType":"UserAccount","observations":["Usuario principal del proyecto.","Identificado como CLIENT_ID 'v0h9DBUN8K4Y0gROIG0s' en los scripts de importación."]}
{"type":"relation","from":"services/research.py","to":"Deep Research Prompt","relationType":"uses"}
{"type":"relation","from":"WeeklyReportDashboard","to":"services/research.py","relationType":"renders output from"}
{"type":"relation","from":"oantiza/BDB-FONDOS","to":"WeeklyReportDashboard","relationType":"contains"}
{"type":"relation","from":"oantiza/BDB-FONDOS","to":"services/research.py","relationType":"contains"}
{"type":"relation","from":"BDB-FONDOS","to":"Macro Report","relationType":"tiene una característica principal de"}
{"type":"relation","from":"Macro Report","to":"ReportDashboard.tsx","relationType":"usa componente React"}
{"type":"relation","from":"Macro Report","to":"Diseño UI/UX","relationType":"requiere un estándar estético de"}
{"type":"relation","from":"stockmaster-pro","to":"Firebase Firestore","relationType":"uses"}
{"type":"relation","from":"Firebase Firestore","to":"funds_v3","relationType":"contains_collection"}
{"type":"relation","from":"Oscar","to":"stockmaster-pro","relationType":"owns_project"}